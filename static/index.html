<!DOCTYPE html>
<html>
<head>
  <title>AI Maze Solver</title>
  <style>
    body { font-family: Arial; text-align: center; padding: 40px; background: #f4f4f4; }
    select, button { padding: 10px; font-size: 16px; margin: 10px; }
    img { margin: 20px auto; border: 2px solid #333; max-width: 90%; display: block; }
    .label { font-weight: bold; font-size: 18px; margin-top: 20px; }
  </style>
</head>
<body>
  <h1>ðŸ§  AI Maze Solver</h1>

  <label>Maze Type:</label>
  <select id="mazeType">
    <option value="manual">Manual</option>
    <option value="random">Random</option>
  </select>

  <label>Size:</label>
  <select id="size">
    <option>20</option><option>21</option><option>22</option><option>23</option><option>24</option><option>25</option>
  </select>

  <label>Algorithm:</label>
  <select id="algorithm">
    <option value="astar">A*</option>
    <option value="bfs">BFS</option>
    <option value="dfs">DFS</option>
    <option value="dijkstra">Dijkstra</option>
  </select>

  <br><br>
  <button onclick="solveMaze()">Solve Maze</button>

  <div id="outputSection" style="display: none;">
    <div class="label">ðŸ§± Maze (Before Solving):</div>
    <img id="mazeImage" />

    <div class="label">âœ… Solved Maze with Path:</div>
    <img id="solutionImage" />
  </div>

  <script>
    async function solveMaze() {
      const mazeType = document.getElementById("mazeType").value;
      const size = document.getElementById("size").value;
      const algorithm = document.getElementById("algorithm").value;

      const res = await fetch('/solve', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ maze_type: mazeType, size, algorithm })
      });

      if (res.ok) {
        const data = await res.json();
        document.getElementById("mazeImage").src = "data:image/png;base64," + data.maze;
        document.getElementById("solutionImage").src = "data:image/png;base64," + data.solution;
        document.getElementById("outputSection").style.display = "block";
      } else {
        alert("Maze could not be solved. Check console.");
        console.error(await res.text());
      }
    }
  </script>
</body>
</html>
